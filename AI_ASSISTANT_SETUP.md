# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ò–ò –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

## –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–í–∞–∂–Ω–æ:** –°–µ–π—á–∞—Å –ò–ò –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ **–±–∞–∑–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª–∞—Ö (rule-based)**, –∞ –Ω–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –ò–ò API.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å:

1. **–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤:**
   - –ï—Å–ª–∏ –≤ —Ü–µ–ª–∏ –µ—Å—Ç—å —Å–ª–æ–≤–æ "–±–µ–≥" ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —á–µ–∫–ø–æ–∏–Ω—Ç—ã –¥–ª—è –±–µ–≥–∞
   - –ï—Å–ª–∏ –µ—Å—Ç—å "–ø—Ä–æ–µ–∫—Ç" ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —ç—Ç–∞–ø—ã –ø—Ä–æ–µ–∫—Ç–∞
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ò–ò –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

2. **–ë–∞–∑–æ–≤—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:**
   - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø–æ —à–∞–±–ª–æ–Ω–∞–º
   - –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö API
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ–ø–ª–∞—Ç—ã

### –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–æ–¥:

- **–°–µ—Ä–≤–µ—Ä:** `server/src/services/aiAssistant.ts` - —Ñ—É–Ω–∫—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- **–ö–ª–∏–µ–Ω—Ç:** `client/src/components/AIAssistant.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ò–ò API

–ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å API –∫–ª—é—á –æ—Ç OpenAI, Anthropic –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –ò–ò.

### –í–∞—Ä–∏–∞–Ω—Ç 1: OpenAI (GPT-4)

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É:

```bash
cd server
npm install openai
```

#### 2. –î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á –≤ `.env`:

```env
OPENAI_API_KEY=sk-—Ç–≤–æ–π-–∫–ª—é—á-–∑–¥–µ—Å—å
```

#### 3. –û–±–Ω–æ–≤–∏—Ç—å `server/src/services/aiAssistant.ts`:

```typescript
import OpenAI from 'openai';

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
});

export async function generateCheckpointSuggestions(context: GoalContext): Promise<AISuggestion[]> {
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –ò–ò
  if (process.env.OPENAI_API_KEY) {
    try {
      const prompt = `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç —Ü–µ–ª—å: "${context.goalTitle}"
      
–û–ø–∏—Å–∞–Ω–∏–µ: ${context.description || '–Ω–µ—Ç'}
–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞: ${context.aiPlanning?.successCriteria || '–Ω–µ—Ç'}
–†–µ—Å—É—Ä—Å—ã: ${context.aiPlanning?.currentResources || '–Ω–µ—Ç'}
–ú–æ—Ç–∏–≤–∞—Ü–∏—è: ${context.aiPlanning?.motivation || '–Ω–µ—Ç'}

–ü—Ä–µ–¥–ª–æ–∂–∏ 3-5 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —ç—Ç–æ–π —Ü–µ–ª–∏. 
–ö–∞–∂–¥—ã–π —á–µ–∫–ø–æ–∏–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–º–µ—Ä–∏–º—ã–º –∏ –¥–æ—Å—Ç–∏–∂–∏–º—ã–º.
–û—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
[
  {"title": "–ù–∞–∑–≤–∞–Ω–∏–µ", "message": "–û–ø–∏—Å–∞–Ω–∏–µ"},
  ...
]`;

      const completion = await openai.chat.completions.create({
        model: 'gpt-4',
        messages: [
          {
            role: 'system',
            content: '–¢—ã –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π. –ü–æ–º–æ–≥–∞–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–æ—Å—Ç–∏–≥–∞—Ç—å —Å–≤–æ–∏—Ö —Ü–µ–ª–µ–π. –û—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–Ω—ã–º JSON.',
          },
          {
            role: 'user',
            content: prompt,
          },
        ],
        temperature: 0.7,
      });

      const response = completion.choices[0].message.content || '[]';
      const suggestions = JSON.parse(response);
      
      return suggestions.map((s: any) => ({
        type: 'checkpoint' as const,
        title: s.title,
        message: s.message,
      }));
    } catch (error) {
      console.error('OpenAI error:', error);
      // Fallback –Ω–∞ –±–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞
      return generateBasicSuggestions(context);
    }
  }
  
  // Fallback –Ω–∞ –±–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –µ—Å–ª–∏ –Ω–µ—Ç API –∫–ª—é—á–∞
  return generateBasicSuggestions(context);
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Anthropic (Claude)

```bash
npm install @anthropic-ai/sdk
```

```typescript
import Anthropic from '@anthropic-ai/sdk';

const anthropic = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY,
});
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

1. **Hugging Face Inference API** - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier
2. **Google Gemini** - –µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier
3. **Ollama** - –ª–æ–∫–∞–ª—å–Ω—ã–π –ò–ò (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á–∞)

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –Ω–∞—á–∞–ª–∞:
‚úÖ **–û—Å—Ç–∞–≤—å —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é** - –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–ø–ª–∞—Ç—ã

### –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —Ä–µ–∞–ª—å–Ω—ã–π –ò–ò:
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –±–æ–ª–µ–µ —É–º–Ω—ã–µ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- –ö–æ–≥–¥–∞ —Ö–æ—á–µ—à—å –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ü–µ–ª–∏
- –ö–æ–≥–¥–∞ –≥–æ—Ç–æ–≤ –ø–ª–∞—Ç–∏—Ç—å –∑–∞ API –≤—ã–∑–æ–≤—ã

### –°—Ç–æ–∏–º–æ—Å—Ç—å:
- **OpenAI GPT-4:** ~$0.03 –∑–∞ 1000 —Ç–æ–∫–µ–Ω–æ–≤ (–ø—Ä–∏–º–µ—Ä–Ω–æ $0.01-0.05 –∑–∞ –∑–∞–ø—Ä–æ—Å)
- **OpenAI GPT-3.5:** ~$0.002 –∑–∞ 1000 —Ç–æ–∫–µ–Ω–æ–≤ (–¥–µ—à–µ–≤–ª–µ)
- **Anthropic Claude:** ~$0.008 –∑–∞ 1000 —Ç–æ–∫–µ–Ω–æ–≤

---

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å?

1. **–û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å** - –±–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –ò–ò** - –µ—Å–ª–∏ –µ—Å—Ç—å API –∫–ª—é—á
3. **–£–ª—É—á—à–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞** - –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —à–∞–±–ª–æ–Ω–æ–≤ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

–ö–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—à—å?

